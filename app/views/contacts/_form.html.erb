<!-- We don't need full layout here, because this page will be parsed with Ajax-->

<!-- NavBar 
**************************************** -->
<div class="navbar">
  <div class="navbar-inner">
    <div class="left sliding">
	    <!-- Right link contains only icon - additional "icon-only" class-->
      <a href="#" class="link icon-only open-panel"><i class="i-bars"></i></a>
    </div>
    <div class="center sliding"><%= @contact.name rescue nil || "New contact" %></div>
  </div>
</div>


<!-- Page 
**************************************** -->
<div class="pages navbar-through toolbar-through">
  <div data-page="add-contact" class="page page-add-contact">
  
    <div class="page-content">
		  <%= form_for(@contact, id: "demoform-1", html: { class: "list-block" }) do |form| %>
      	<div class="content-block-title">Contact Details</div>
        <ul>
        	<!-- Category
        	============================= -->
        	<li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Category</div>
                <div class="item-input">
                  <%= form.select(:contact_attribute_ids, contact_categories, :html => {:name => "contact[contact_attribute_ids][]"})%>
                </div>
              </div>
            </div>
          </li>
        	<!-- first name
        	============================= -->
        	<li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">First name</div>
                <div class="item-input">
                  <%= form.text_field :first_name, placeholder: "Tap here to type" %>
                </div>
              </div>
            </div>
          </li>
          <!-- last name
        	============================= -->
          <li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Last name</div>
                <div class="item-input">
                  <%= form.text_field :last_name, placeholder: "Tap here to type" %>
                </div>
              </div>
            </div>
          </li>
          <!-- email
        	============================= -->
          <li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Email</div>
                <div class="item-input">
                  <%= form.text_field :email, placeholder: "Tap here to type", type: "email" %>
                </div>
              </div>
            </div>
          </li>
          <!-- Phone Type
        	============================= -->
        	<li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Phone type</div>
                <div class="item-input">
                  <%= select("contact[phone_numbers_attributes]", "name" , options_for_select( [ ["Mobile", "mobile"] , ["Home phone","home"], ["Work Phone","work"] ])) %>
                </div>
              </div>
            </div>
          </li>
          <!-- Phone number
        	============================= -->
          <li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Number</div>
                <div class="item-input">
                  <%= form.text_field "phone_numbers_attributes", placeholder: "Tap here to type", class: "phoneNumber", type: "number", name: "contact[phone_numbers_attributes][number]"%>
                </div>
              </div>
            </div>
          </li>
          <!-- Note
        	============================= -->
          <li class="align-top">
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Add a note</div>
                <div class="item-input">
                  <textarea name="note" placeholder="Tap here to type"></textarea>
                </div>
              </div>
            </div>
          </li>
        </ul>
        
        <div class="content-block-title">Requirements</div>
        <ul>
        	<!-- requirement name
        	============================= -->
        	<li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Name</div>
                <div class="item-input">
                  <input type="text" placeholder="Tap here to type" name="requirement[name]"/>
                </div>
              </div>
            </div>
          </li>
          <!-- Suburbs
        	============================= -->
        	<li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Suburbs</div>
                <div class="item-input">
                  <%= select( :requirement, "postal_area_names", suburbs_serviced, {prompt: ""}, {multiple: true} ) %>
                </div>
              </div>
            </div>
          </li>
          <!-- Looking to
        	============================= -->
        	<li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Looking to</div>
                <div class="item-input">
                  <select name="requirement[requirement_category]">
                    <option value="residential_sale">Buy</option>
                    <option value="residential_lease">Rent</option>
                  </select>
                </div>
              </div>
            </div>
          </li>
          <!-- Min Price
        	============================= -->
        	<li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Min Price</div>
                <div class="item-input">
                  <input type="number" placeholder="Tap here to type" name="requirement[min_price]"/>
                </div>
              </div>
            </div>
          </li>
          <!-- Max Price
        	============================= -->
        	<li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Max Price</div>
                <div class="item-input">
                  <input type="number" placeholder="Tap here to type" name="requirement[max_price]"/>
                </div>
              </div>
            </div>
          </li>
          <!-- Bedrooms
        	============================= -->
        	<li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Bedrooms</div>
                <div class="item-input">
                  <select name="requirement[min_bedrooms]">
                    <%= options_for_select( [ ["Any", nil] , ["1+", "1"], ["2+", "2"], ["3+", "3"], ["4+", "4"], ["5+", "5"] ])%>
                  </select>
                </div>
              </div>
            </div>
          </li>
          <!-- Bathrooms
        	============================= -->
        	<li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Bathrooms</div>
                <div class="item-input">
                  <select name="requirement[min_bathrooms]">
                    <%= options_for_select( [ ["Any", nil] , ["1+", "1"], ["2+", "2"], ["3+", "3"], ["4+", "4"], ["5+", "5"] ])%>
                  </select>
                </div>
              </div>
            </div>
          </li>
          <!-- Car Spaces
        	============================= -->
        	<li>
            <div class="item-content">
              <div class="item-inner">
                <div class="item-title label">Car Spaces</div>
                <div class="item-input">
                  <select name="requirement[min_car_parks]">
                    <%= options_for_select( [ ["Any", nil] , ["1+", "1"], ["2+", "2"], ["3+", "3"], ["4+", "4"], ["5+", "5"] ])%>
                  </select>
                </div>
              </div>
            </div>
          </li>
        </ul>
        
        <button type="submit"><%= @contact.new_record? ? "Create" : "Save" %></button>
     <% end %>
     
    </div><!-- page content -->
    
  </div><!-- page -->
</div><!-- pages -->